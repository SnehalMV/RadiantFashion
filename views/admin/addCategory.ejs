
<h1 class="text-center me-3 mt-5 d-block" style="color: darkslategrey;">Add Category</h1>
  

<div class="container mt-5 d-block justify-content-center align-items-center">
  <form action="/admin/addCategory" method="post" style="min-width:  30vw; max-width: 40vw;" id="catForm">
    <div class="mb-3">
      <label class="form-label">Category Name</label>
      <input type="name" class="form-control" name="name" id="name" onkeyup="return nameValidate()" required>
      <span id="exists-error" class="text-danger"><%= locals.invalid %></span>
      <span id="name-error" class="text-danger"></span>
      
    </div>
    
    <button type="submit" class="btn btn-primary mt-4">Submit</button>
  </form>
  <span id="form-error" class="text-danger"></span>

</div>
<script>
  function nameValidate(){
      const regName = /^[a-zA-Z]+(\s[a-zA-Z]+)*$/
      let name = document.getElementById('name').value;
      if(!regName.test(name)){
          document.getElementById('name-error').innerHTML = 'Enter Valid Product Name'
          return false;
      }else{
          document.getElementById('name-error').innerHTML = ''
          return true;
      }
  }

  const form = document.getElementById('catForm')
    form.addEventListener('submit', (event) => {
        event.preventDefault();
        if (formValidate()) {
            form.submit()
        } else {
            document.getElementById('form-error').innerHTML = 'Please Check All The Fields'
        }
    })

    function formValidate(){
        if(nameValidate()){
            return true
        }else{
            return false
        }
    }
</script>